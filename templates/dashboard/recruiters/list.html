{% extends 'dashboard/base.html' %}
{% load tz %}
{% load page_tags %}

{% block stage %}
<style>
    .recruiter-manager {
        background: #f8fafc;
        min-height: 100%;
        padding: 56px 0 48px;
    }

    .recruiter-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 24px;
        display: flex;
        flex-direction: column;
        gap: 28px;
    }

    .recruiter-header {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 24px;
        align-items: flex-end;
    }

    .recruiter-header__content span {
        display: inline-block;
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #64748b;
        margin-bottom: 6px;
    }

    .recruiter-header__content h1 {
        margin: 0;
        font-size: 1.9rem;
        font-weight: 700;
        color: #0f172a;
    }

    .recruiter-header__content p {
        margin: 10px 0 0;
        color: #475569;
        max-width: 640px;
        line-height: 1.5;
    }

    .recruiter-status {
        display: flex;
        flex-direction: column;
        gap: 12px;
        align-items: flex-end;
    }

    .recruiter-status__label {
        font-size: 0.8rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #64748b;
    }

    .recruiter-status__filters {
        display: inline-flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .recruiter-filter {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 18px;
        border-radius: 999px;
        border: 1px solid #d1d9e6;
        background: #ffffff;
        color: #1f2937;
        font-weight: 600;
        font-size: 0.9rem;
        text-decoration: none;
        transition: all 0.18s ease;
        box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
    }

    .recruiter-filter:hover {
        transform: translateY(-1px);
        border-color: #93c5fd;
        color: #1d4ed8;
    }

    .recruiter-filter--active {
        background: linear-gradient(135deg, #2563eb, #1e40af);
        color: #ffffff;
        border-color: transparent;
        box-shadow: 0 12px 28px rgba(37, 99, 235, 0.32);
    }

    .recruiter-insights {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
        gap: 16px;
    }

    .recruiter-insights__card {
        background: #ffffff;
        border-radius: 16px;
        border: 1px solid #e2e8f0;
        padding: 16px 20px;
        display: flex;
        flex-direction: column;
        gap: 6px;
        box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
    }

    .recruiter-insights__label {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: #64748b;
    }

    .recruiter-insights__value {
        font-size: 1.6rem;
        font-weight: 700;
        color: #1e293b;
    }

    .recruiter-tools {
        display: grid;
        gap: 20px;
        background: #ffffff;
        border-radius: 20px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 14px 32px rgba(15, 23, 42, 0.1);
        padding: 24px;
    }

    .recruiter-form {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .recruiter-form label {
        font-size: 0.78rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: #64748b;
    }

    .recruiter-form__fields {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
    }

    .recruiter-form__fields input {
        flex: 1;
        min-width: 250px;
        border-radius: 12px;
        border: 1px solid #d1d9e6;
        background: #ffffff;
        padding: 12px 16px;
        font-size: 0.95rem;
        color: #0f172a;
        transition: border-color 0.18s ease, box-shadow 0.18s ease;
    }

    .recruiter-form__fields input:focus {
        border-color: #2563eb;
        box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.18);
        outline: none;
    }

    .recruiter-form__fields button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        border: none;
        border-radius: 12px;
        padding: 12px 20px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.18s ease;
        white-space: nowrap;
        background: linear-gradient(135deg, #2563eb, #1e40af);
        color: #ffffff;
        box-shadow: 0 14px 32px rgba(37, 99, 235, 0.32);
    }

    .recruiter-form__fields button:hover {
        transform: translateY(-1px);
        box-shadow: 0 16px 36px rgba(37, 99, 235, 0.36);
    }

    .recruiter-status-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        align-items: center;
        font-size: 0.85rem;
        color: #64748b;
    }

    .recruiter-status-legend__item {
        display: inline-flex;
        align-items: center;
        gap: 6px;
    }

    .recruiter-status-legend__item i {
        width: 8px;
        height: 8px;
        border-radius: 50%;
    }

    .recruiter-status-legend__item.draft i { background: #f59e0b; }
    .recruiter-status-legend__item.pending i { background: #3b82f6; }
    .recruiter-status-legend__item.published i { background: #10b981; }
    .recruiter-status-legend__item.live i { background: #059669; }
    .recruiter-status-legend__item.deleted i { background: #ef4444; }


    .recruiter-results {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 12px;
        color: #475569;
        font-size: 0.95rem;
    }

    .recruiter-results strong {
        color: #0f172a;
    }

    .recruiter-results__reset {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-weight: 600;
        color: #2563eb;
        text-decoration: none;
    }

    .recruiter-results__reset:hover {
        text-decoration: underline;
    }

    .recruiter-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 20px;
    }

    .recruiter-card {
        background: #ffffff;
        border-radius: 20px;
        border: 1px solid #e2e8f0;
        padding: 24px;
        display: flex;
        flex-direction: column;
        gap: 18px;
        box-shadow: 0 18px 32px rgba(15, 23, 42, 0.08);
    }

    .recruiter-card__header {
        display: flex;
        gap: 16px;
        align-items: flex-start;
    }

    .recruiter-card__avatar {
        width: 60px;
        height: 60px;
        border-radius: 12px;
        background: linear-gradient(135deg, #2563eb, #1e40af);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #ffffff;
        font-size: 1.5rem;
        font-weight: 700;
        flex-shrink: 0;
    }

    .recruiter-card__identity {
        display: flex;
        flex-direction: column;
        gap: 8px;
        flex: 1;
        min-width: 0;
    }

    .recruiter-card__name {
        margin: 0;
        font-size: 1.15rem;
        font-weight: 600;
        color: #0f172a;
        line-height: 1.35;
        word-break: break-word;
    }

    .recruiter-card__email {
        font-size: 0.9rem;
        color: #2563eb;
        text-decoration: none;
        word-break: break-all;
    }

    .recruiter-card__email:hover {
        text-decoration: underline;
    }

    .recruiter-card__meta {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        align-items: center;
        font-size: 0.85rem;
        color: #64748b;
    }

    .recruiter-card__meta span {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        border-radius: 999px;
        background: #f1f5f9;
        color: #1d4ed8;
        font-weight: 500;
    }

    .recruiter-card__meta .status-active {
        background: #ecfdf5;
        color: #047857;
    }

    .recruiter-card__meta .status-inactive {
        background: #fef3c7;
        color: #d97706;
    }

    .recruiter-card__meta .mobile-verified {
        background: #ecfdf5;
        color: #047857;
    }

    .recruiter-card__meta .mobile-unverified {
        background: #fee2e2;
        color: #b91c1c;
    }

    .recruiter-card__stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 12px;
        padding: 16px;
        background: #f8fafc;
        border-radius: 12px;
        border: 1px solid #e2e8f0;
    }

    .recruiter-stat {
        text-align: center;
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .recruiter-stat__value {
        font-size: 1.2rem;
        font-weight: 700;
        color: #1e293b;
    }

    .recruiter-stat__label {
        font-size: 0.75rem;
        color: #64748b;
        text-transform: uppercase;
        letter-spacing: 0.08em;
    }

    .recruiter-stat--draft .recruiter-stat__value { color: #f59e0b; }
    .recruiter-stat--pending .recruiter-stat__value { color: #3b82f6; }
    .recruiter-stat--published .recruiter-stat__value { color: #10b981; }
    .recruiter-stat--live .recruiter-stat__value { color: #059669; }
    .recruiter-stat--deleted .recruiter-stat__value { color: #ef4444; }

    .recruiter-card__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
    }

    .recruiter-action {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        font-size: 0.8rem;
        font-weight: 500;
        padding: 8px 12px;
        border-radius: 10px;
        border: 1px solid #d1d9e6;
        color: #1f2937;
        background: #ffffff;
        text-decoration: none;
        transition: all 0.18s ease;
        cursor: pointer;
        flex: 1 1 calc(25% - 8px);
        min-width: 80px;
    }

    .recruiter-action:hover {
        transform: translateY(-1px);
        background: #f1f5f9;
    }

    .recruiter-action--primary {
        background: #2563eb;
        color: #ffffff;
        border-color: #2563eb;
    }

    .recruiter-action--primary:hover {
        background: #1e40af;
    }

    .recruiter-action--success {
        background: #10b981;
        color: #ffffff;
        border-color: #10b981;
    }

    .recruiter-action--success:hover {
        background: #059669;
    }

    .recruiter-action--danger {
        background: #fee2e2;
        color: #b91c1c;
        border-color: #fecaca;
    }

    .recruiter-action--danger:hover {
        background: #fecaca;
        color: #991b1b;
    }

    .recruiter-action--warning {
        background: #fef3c7;
        color: #d97706;
        border-color: #fde68a;
    }

    .recruiter-action--warning:hover {
        background: #fde68a;
        color: #b45309;
    }

    .recruiter-empty {
        background: #ffffff;
        border-radius: 20px;
        border: 1px dashed #cbd5f5;
        padding: 60px 24px;
        text-align: center;
        color: #475569;
        display: grid;
        gap: 14px;
        justify-items: center;
        box-shadow: 0 18px 32px rgba(15, 23, 42, 0.08);
    }

    .recruiter-empty i {
        font-size: 2.8rem;
        color: #2563eb;
    }

    .recruiter-pagination {
        display: flex;
        justify-content: center;
    }

    .recruiter-pagination__inner {
        background: #ffffff;
        border-radius: 16px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 12px 28px rgba(15, 23, 42, 0.08);
        padding: 12px 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        align-items: center;
    }

    .recruiter-pagination__group {
        display: inline-flex;
        gap: 12px;
        align-items: center;
    }

    .recruiter-pagination__button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 8px 16px;
        border-radius: 10px;
        font-weight: 600;
        font-size: 0.9rem;
        text-decoration: none;
        color: #1f2937;
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        transition: all 0.18s ease;
    }

    .recruiter-pagination__button:hover {
        background: #e2e8f0;
    }

    .recruiter-pagination__button--primary {
        background: linear-gradient(135deg, #2563eb, #1e40af);
        color: #ffffff;
        border-color: transparent;
        box-shadow: 0 10px 24px rgba(37, 99, 235, 0.32);
    }

    .recruiter-pagination__button--disabled {
        color: #94a3b8;
        background: #f8fafc;
        border-color: #e2e8f0;
        cursor: not-allowed;
        box-shadow: none;
    }

    @media (max-width: 960px) {
        .recruiter-card__actions .recruiter-action {
            flex: 1 1 calc(50% - 8px);
        }
    }

    @media (max-width: 768px) {
        .recruiter-manager {
            padding: 40px 0 36px;
        }

        .recruiter-container {
            padding: 0 18px;
            gap: 24px;
        }

        .recruiter-header__content h1 {
            font-size: 1.6rem;
        }

        .recruiter-status {
            align-items: flex-start;
        }

        .recruiter-card {
            padding: 20px;
        }

        .recruiter-card__header {
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .recruiter-card__actions {
            gap: 6px;
        }

        .recruiter-card__actions .recruiter-action {
            flex: 1 1 calc(50% - 6px);
        }

        .recruiter-pagination__inner {
            flex-direction: column;
            align-items: stretch;
        }

        .recruiter-pagination__group {
            justify-content: space-between;
        }
    }
</style>

<section class="recruiter-manager" id="recruiters">
    <div class="recruiter-container">
        <div class="recruiter-header">
            <div class="recruiter-header__content">
                <span>Recruiter management</span>
                <h1>Recruiters directory</h1>
                <p>Manage recruiters and their profiles. View recruiter details, job post statistics, and manage their account status from a centralized dashboard.</p>
            </div>
            <div class="recruiter-status">
                <span class="recruiter-status__label">Quick filter</span>
                <div class="recruiter-status__filters">
                    <a class="recruiter-filter{% if status == 'active' %} recruiter-filter--active{% endif %}"
                       href="{% url 'dashboard:recruiters_list' 'active' %}">Active</a>
                    <a class="recruiter-filter{% if status == 'inactive' %} recruiter-filter--active{% endif %}"
                       href="{% url 'dashboard:recruiters_list' 'inactive' %}">Inactive</a>
                </div>
            </div>
        </div>

        <div class="recruiter-insights">
            <div class="recruiter-insights__card">
                <span class="recruiter-insights__label">Total recruiters</span>
                <span class="recruiter-insights__value">{{ recruiters|length }}</span>
                <small class="text-muted">on this page</small>
            </div>
            <div class="recruiter-insights__card">
                <span class="recruiter-insights__label">Current page</span>
                <span class="recruiter-insights__value">{{ current_page }}</span>
                <small class="text-muted">of {{ last_page }}</small>
            </div>
            <div class="recruiter-insights__card">
                <span class="recruiter-insights__label">Status</span>
                <span class="recruiter-insights__value">{{ status|capfirst }}</span>
                <small class="text-muted">recruiters</small>
            </div>
        </div>

        <div class="recruiter-tools">
            <form name="recruiterform" id="recruiterform" method="post" class="recruiter-form">
                <label for="search">Search & Filter</label>
                <div class="recruiter-form__fields">
                    <input type="text" name="search" id="search" 
                           value="{{ request.POST.search }}"
                           placeholder="Search by email or username...">
                    <input type="text" class="recruiter-form__fields" id="reportrange" name="timestamp" 
                           value="{{request.POST.timestamp}}" placeholder="Select date range">
                    <input type="hidden" name="alphabet_value" id="alphabet_value" value="{{request.POST.alphabet_value}}">
                    <input type="hidden" name="page" id="page" value="{% if request.POST %}{{ request.POST.page }}{% else %}{{ request.GET.page}}{% endif %}">
                    <button type="submit">
                        <i class="fa fa-search"></i>
                        Search
                    </button>
                </div>
            </form>
            
            <div class="recruiter-status-legend">
                <span class="recruiter-status-legend__item draft">
                    <i></i>
                    Draft
                </span>
                <span class="recruiter-status-legend__item pending">
                    <i></i>
                    Pending
                </span>
                <span class="recruiter-status-legend__item published">
                    <i></i>
                    Published
                </span>
                <span class="recruiter-status-legend__item live">
                    <i></i>
                    Live
      </span>
                <span class="recruiter-status-legend__item deleted">
                    <i></i>
                    Deleted
  </span>
  </div>
        </div>

        <div class="recruiter-results">
            <span>Showing <strong>{{ recruiters|length }}</strong> recruiters
                {% if request.POST.search %} · Matching "{{ request.POST.search }}"{% endif %}
                {% if status %} · Status: <strong>{{ status|capfirst }}</strong>{% endif %}
            </span>
            {% if request.POST.search %}
                <a class="recruiter-results__reset" href="{% url 'dashboard:recruiters_list' status %}">
                    <i class="fa fa-rotate-left"></i>
                    Clear search
                </a>
            {% endif %}
        </div>

        {% if recruiters %}
            <div class="recruiter-grid">
                {% for recruiter in recruiters %}
                    <article class="recruiter-card">
                        <div class="recruiter-card__header">
                            <div class="recruiter-card__avatar">
                                {{ recruiter.username|first|upper }}
                            </div>
                            
                            <div class="recruiter-card__identity">
                                <h2 class="recruiter-card__name">{{ recruiter.username }}</h2>
                                <a href="{% url 'dashboard:view_recruiter' recruiter.id %}" class="recruiter-card__email">{{ recruiter.email }}</a>
                                
                                <div class="recruiter-card__meta">
                                    <span class="{% if recruiter.is_active %}status-active{% else %}status-inactive{% endif %}">
                                        <i class="fa fa-circle"></i>
                                        {% if recruiter.is_active %}Active{% else %}Inactive{% endif %}
                                    </span>
                                    <span class="{% if recruiter.mobile_verified %}mobile-verified{% else %}mobile-unverified{% endif %}">
                                        <i class="fa fa-mobile"></i>
                                        {% if recruiter.mobile_verified %}Verified{% else %}Unverified{% endif %}
                                    </span>
                                    <span>
                                        <i class="fa fa-calendar"></i>
                                        {{ recruiter.date_joined|timezone:'Asia/Calcutta'|date:"M d, Y" }}
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="recruiter-card__stats">
                            <div class="recruiter-stat recruiter-stat--draft">
                                <span class="recruiter-stat__value">{{ recruiter.get_total_jobposts|filter_jobposts:'Draft' }}</span>
                                <span class="recruiter-stat__label">Draft</span>
                            </div>
                            <div class="recruiter-stat recruiter-stat--pending">
                                <span class="recruiter-stat__value">{{ recruiter.get_total_jobposts|filter_jobposts:'Pending' }}</span>
                                <span class="recruiter-stat__label">Pending</span>
                            </div>
                            <div class="recruiter-stat recruiter-stat--published">
                                <span class="recruiter-stat__value">{{ recruiter.get_total_jobposts|filter_jobposts:'Published' }}</span>
                                <span class="recruiter-stat__label">Published</span>
                            </div>
                            <div class="recruiter-stat recruiter-stat--live">
                                <span class="recruiter-stat__value">{{ recruiter.get_total_jobposts|filter_jobposts:'Live' }}</span>
                                <span class="recruiter-stat__label">Live</span>
        </div>
                            <div class="recruiter-stat recruiter-stat--deleted">
                                <span class="recruiter-stat__value">{{ recruiter.get_total_jobposts|filter_jobposts:'Disabled' }}</span>
                                <span class="recruiter-stat__label">Deleted</span>
      </div>
    </div>

                        <div class="recruiter-card__actions">
            {% if recruiter.is_active %}
                                <a data-href="{% url 'dashboard:recruiter_status_change' recruiter.id %}?page={{ current_page }}" 
                                   class="recruiter-action recruiter-action--warning disable-recruiter" 
                                   title="Disable Recruiter">
                                    <i class="fa fa-check"></i>
                                    Disable
                                </a>
            {% else %}
                                <a data-href="{% url 'dashboard:recruiter_status_change' recruiter.id %}?page={{ current_page }}" 
                                   class="recruiter-action recruiter-action--success enable-recruiter" 
                                   title="Enable Recruiter">
                                    <i class="fa fa-times"></i>
                                    Enable
                                </a>
            {% endif %}

            {% if recruiter.get_active_jobposts_count >= 100 %}
             {% if recruiter.is_paid %}
                                    <a href="{% url 'dashboard:recruiter_paid_status_change' recruiter.id %}" 
                                       class="recruiter-action recruiter-action--success" title="Paid">
                                        <i class="fa fa-check"></i>
                                        Paid
                                    </a>
             {% else %}
                                    <a href="{% url 'dashboard:recruiter_paid_status_change' recruiter.id %}" 
                                       class="recruiter-action recruiter-action--warning" title="Unpaid">
                                        <i class="fa fa-times"></i>
                                        Unpaid
                                    </a>
             {% endif %}
            {% endif %}

            {% if recruiter.is_active %}
                                <a href="{% url 'recruiter_profile' recruiter.username %}" target="_blank" 
                                   class="recruiter-action recruiter-action--primary" title="View Frontend">
                                    <i class="fa fa-eye"></i>
                                    View
                                </a>
            {% endif %}

                            <a data-href="{% url 'dashboard:recruiter_delete' recruiter.id %}" 
                               class="recruiter-action recruiter-action--danger delete-recruiter" 
                               title="Delete Recruiter">
                                <i class="fa fa-trash"></i>
                                Delete
                            </a>
                        </div>
                    </article>
      {% endfor %}
            </div>
        {% else %}
            <div class="recruiter-empty">
                <i class="fa-solid fa-user-tie"></i>
                <p>No recruiters found. Adjust your filters or search terms to see existing entries.</p>
            </div>
        {% endif %}

        {% if recruiters %}
            <div class="recruiter-pagination">
                <div class="recruiter-pagination__inner" aria-label="Recruiters pagination">
                    <div class="recruiter-pagination__group">
                        {% if current_page > 1 %}
                            <a class="recruiter-pagination__button recruiter-pagination__button--primary"
                               href="#" data-page="1">&laquo;</a>
                            <a class="recruiter-pagination__button"
                               href="#" data-page="{{ prev_page }}">&lsaquo; Previous</a>
                        {% else %}
                            <span class="recruiter-pagination__button recruiter-pagination__button--disabled">&laquo;</span>
                            <span class="recruiter-pagination__button recruiter-pagination__button--disabled">&lsaquo; Previous</span>
              {% endif %}
                    </div>

                    <div class="recruiter-pagination__group">
                        <span class="recruiter-pagination__button" style="border: none; background: transparent; color: #1f2937;">Page {{ current_page }} of {{ last_page }}</span>
                    </div>

                    <div class="recruiter-pagination__group">
                        {% if current_page < last_page %}
                            <a class="recruiter-pagination__button"
                               href="#" data-page="{{ aft_page }}">Next &rsaquo;</a>
                            <a class="recruiter-pagination__button recruiter-pagination__button--primary"
                               href="#" data-page="{{ last_page }}">&raquo;</a>
                        {% else %}
                            <span class="recruiter-pagination__button recruiter-pagination__button--disabled">Next &rsaquo;</span>
                            <span class="recruiter-pagination__button recruiter-pagination__button--disabled">&raquo;</span>
              {% endif %}
  </div>
                </div>
            </div>
  {% endif %}
  </div>
</section>

{% endblock stage %}

{% block script %}
<script type="text/javascript">
    (function ($) {
        // Setup CSRF token for AJAX requests
        var csrfToken = $('[name=csrfmiddlewaretoken]').val();
        $.ajaxSetup({
            beforeSend: function (xhr, settings) {
                if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {
                    xhr.setRequestHeader("X-CSRFToken", csrfToken);
                }
            }
        });

        // Handle delete recruiter
        $(document).on('click', '.delete-recruiter', function(e) {
  e.preventDefault();
  e.stopPropagation();
            
            if (!confirm('Do you want to delete this recruiter?')) {
                return;
  }
            
  $("#recruiterform").attr("action", $(this).data("href"));
  $('#recruiterform').submit();
        });

        // Handle disable recruiter
        $(document).on('click', '.disable-recruiter', function(e) {
  e.preventDefault();
  e.stopPropagation();
            
            if (!confirm('Do you want to disable this recruiter status?')) {
                return;
  }
            
  $("#recruiterform").attr("action", $(this).data("href"));
  $('#recruiterform').submit();
        });

        // Handle enable recruiter
        $(document).on('click', '.enable-recruiter', function(e) {
    e.preventDefault();
    e.stopPropagation();
            
            if (!confirm('Do you want to enable this recruiter status?')) {
                return;
  }
            
  $("#recruiterform").attr("action", $(this).data("href"));
  $('#recruiterform').submit();
});

        // Handle pagination
        $('.recruiter-pagination__button').click(function(e) {
    e.preventDefault();
            var page = $(this).data('page');
            if (page) {
                $('#page').val(page);
                $("#recruiterform").attr("action", "/dashboard/recruiters/{{status}}/list/");
    $('#recruiterform').submit();
            }
});
    })(jQuery);
</script>

{% endblock script %}